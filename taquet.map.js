{"version":3,"file":"taquet.min.js","sources":["taquet.js"],"names":["factory","define","amd","_","$","Backbone","BubbleEvent","call","this","Taquet","_eventIterator","eventTree","event","src","_stopPropagation","e","Error","shift","trigger","apply","defer","_bubbleUpHierarchy","dom","matched","tree","parent","cid","nodeName","parentNode","getAttribute","attribute","match","_cids","hasOwnProperty","push","_bubbleDownHierarchy","index","child","children","pattern","concat","slice","BubbleEventManager","prototype","_instance","Object","freeze","CommandManager","uid","has","type","commands","_commands","addCommand","callback","scope","remove","console","warn","i","l","length","splice","exec","command","cInstanceOf","currentTarget","arguments","_extend","method","CommandQueue","_addCid","el","indexOf","setAttribute","_removeCid","replace","RegExp","_handleElement","element","delegate","_backboneView","setElement","TaquetCore","NAVIGATE_EVENT","$window","window","$document","document","RESIZE_EVENT","HTML5","canvas","webgl","proxy","fn","context","args","old","History","log","_checkUrl","checkUrl","history","getFragment","add","view","bubbleUp","leaf","validator","firstChild","OriginValidator","off","options","self","BaseEvent","QUEUE_UPDATED","each","item","key","methods","extend","set","array","clear","sendCommand","pop","isEmpty","commandManager","singletonID","uniqueId","commandManagerId","removeCommand","union","commandHandler","_model","Model","attributes","_collection","Collection","models","View","_bubbleEventsManager","HTMLElement","render","origin","name","Events","props","staticProps","rendered","unshift","RoutedView","route","isArray","initialize","show","hide","_router","Router","path","BaseApplication"],"mappings":"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"}